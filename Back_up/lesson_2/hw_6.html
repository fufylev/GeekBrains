<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JS_1 Lesson 2</title>
</head>
<body>

<script>
    "use strict";

    // Ввиду того что много повторяющихся имен переменных каждое задание делал в разных файлах

    // *С помощью рекурсии организовать функцию возведения числа в степень. Формат:
    //   function power(val, pow), где val — заданное число, pow –— степень.

    /**
     * Функция возведения числа в степерь
     * @param {int} val - число для возведения в степень
     * @param {int} pow - степень
     * @returns {string|number}
     */
    function power(val, pow) {
        if (pow < 0 || !Number.isInteger(pow)) {
            return (`Степень должна быть целым и положительным числом`);
        }
        if (pow === 0) {
            return 1;
        } else {
            return val * power(val, pow - 1);
        }
    }

    /**
     * Функция получения степени в которую надо возвести число val
     * @param {int} val - число для возведения в степень
     */
    function takePow(val) {
        let pow = parseInt(prompt(`Введите степень, кроме числа 0`, ''));
        alert(`число ${val} в степени ${pow} равно ${power(val, pow)}`);
    }

    /**
     * Функция ввода числа и проверки на то что введено именно число
     * @param {int} i - счетчик максимального числа циклов проверки на число
     */
    function takeNumber(i) {
        if ( i === 5 ) {
            alert('Вы превысили максимальное число попыток ввода числа. ' +
                'Видимо Вы не знаете что такое число! Запустите программу заново - удачи');
            return;
        }
        let value = parseInt(prompt(`Введите челое число`, ''));
        if ( !isNaN(value) ) {
            takePow(value); // переходим в функцию вводу степени
            return; // прерываем рекурсию
        }
        alert('Вы ввели не число');
        i++;
        takeNumber(i); // запускаем рекурсию
    }

    takeNumber(0);

</script>

</body>
</html>